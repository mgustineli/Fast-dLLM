# 00_baseline Experiment Configuration
# This file documents the experiment parameters. It is read by humans, not scripts.
# The actual parameters are defined in sbatch/run.sh CONFIGS array.

experiment:
  name: "00_baseline"
  description: "Layer reuse baseline: 3x3 grid of k={1,2,3} x subset={first,middle,last}"

model:
  path: "Efficient-Large-Model/Fast_dLLM_v2_7B"
  use_block_cache: true
  show_speed: true

generation:
  threshold: 0.95
  block_size: 32
  small_block_size: 8

evaluation:
  tasks:
    - gsm8k          # Full (1319 samples) - DONE
    - mmlu            # Full - DONE
    - mmlu_limit_10   # Test - DONE
    - minerva_math_limit_10  # Test - DONE
    - ifeval_limit_5  # Test (1 config only) - DONE
  batch_size: 1
  num_fewshot: 0
  fewshot_as_multiturn: true
  apply_chat_template: true

configs:
  k1_first:  { reuse_k: 1, layer_subset: first }
  k1_middle: { reuse_k: 1, layer_subset: middle }
  k1_last:   { reuse_k: 1, layer_subset: last }
  k2_first:  { reuse_k: 2, layer_subset: first }
  k2_middle: { reuse_k: 2, layer_subset: middle }
  k2_last:   { reuse_k: 2, layer_subset: last }
  k3_first:  { reuse_k: 3, layer_subset: first }
  k3_middle: { reuse_k: 3, layer_subset: middle }
  k3_last:   { reuse_k: 3, layer_subset: last }

compute:
  gpu: "rtx_6000"
  memory: "64G"
  cpus: 4
  time: "12:00:00"
  queue: "inferno"
  account: "gts-ylin715-paid"
